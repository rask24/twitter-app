<h1>
  <%= link_to 'Twitter', root_path %>
</h1>
<% if user_signed_in? %>
  <h2>
    logged in user: 
    <%= link_to current_user.name, user_path(current_user) %>
    (
    <%= current_user.id %>
    )
  </h2>
  <%= link_to 'Logout', destroy_user_session_path, data: { turbo_method: 'delete'} %>
<% else %>
  <%= link_to 'Login', new_user_session_path %>
<% end %>
<%= turbo_frame_tag :tweets_list do %>
  <% if user_signed_in? %>
    <%= form_with model: @new_tweet do |f| %>
      <div>
        <%= f.text_field :text %>
      </div>
      <div>
        <%= f.submit %>
      </div>
      <div>
        <% if @new_tweet.errors.any? %>
          <%= @new_tweet.errors.messages[:text][0]%>
        <% end %>
      </div>
    <% end %>
  <% end %>
  <ul>
    <% @tweets.each do |tweet| %>
      <li>
        <%= link_to tweet.user.name, user_path(tweet.user) %>
        <%= tweet.text %>
        <%= tweet.created_at.strftime('%m/%d %H:%M') %>
      </li>
    <% end %>
  </ul>
<% end %>